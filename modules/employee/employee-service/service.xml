<?xml version="1.0"?>
<!DOCTYPE service-builder PUBLIC "-//Liferay//DTD Service Builder 7.4.0//EN" "http://www.liferay.com/dtd/liferay-service-builder_7_4_0.dtd">

<service-builder dependency-injector="ds" package-path="com.portal.rh.employee">
	<namespace>RH</namespace>

	<!-- Employee Entity -->
	<entity name="Employee" local-service="true" remote-service="true" uuid="true">
		<column name="employeeId" type="long" primary="true"/>
		<column name="fullName" type="String"/>
		<column name="email" type="String"/>
		<column name="departmentId" type="long"/>
		<column name="position" type="String"/>
		<column name="active" type="boolean" />

		<!-- Campos de auditoria e escopo -->
		<column name="groupId" type="long"/>
		<column name="companyId" type="long"/>
		<column name="userId" type="long"/>
		<column name="userName" type="String"/>
		<column name="createDate" type="Date"/>
		<column name="modifiedDate" type="Date"/>

		<order>
			<order-column name="fullName" order-by="asc"/>
		</order>

		<finder name="Email" return-type="Employee" unique="true">
			<finder-column name="email"/>
		</finder>

		<finder name="DepartmentAndActive" return-type="Collection">
			<finder-column name="departmentId"/>
			<finder-column name="active"/>
		</finder>
	</entity>

	<!-- Department Entity -->
	<entity name="Department" local-service="true" remote-service="true">
		<column name="departmentId" type="long" primary="true"/>
		<column name="name" type="String"/>
		<column name="email" type="String"/>
		<column name="phone" type="String"/>
		<column name="active" type="boolean"/>

		<!-- Campos de auditoria e escopo -->
		<column name="groupId" type="long"/>
		<column name="companyId" type="long"/>
		<column name="userId" type="long"/>
		<column name="userName" type="String"/>
		<column name="createDate" type="Date"/>
		<column name="modifiedDate" type="Date"/>
	</entity>

	<!-- Project entity-->
	<entity name="Project" local-service="true" remote-service="true">
		<column name="projectId" type="long" primary="true"/>
		<column name="name" type="String"/>
		<column name="description" type="String"/>
		<column name="startDate" type="Date"/>
		<column name="endDate" type="Date"/>
		<column name="active" type="boolean"/>

		<!-- Campos de auditoria e escopo -->
		<column name="groupId" type="long"/>
		<column name="companyId" type="long"/>
		<column name="userId" type="long"/>
		<column name="userName" type="String"/>
		<column name="createDate" type="Date"/>
		<column name="modifiedDate" type="Date"/>
	</entity>

	<!-- EmployeeProject Entity (Many-to-Many) -->
	<entity name="EmployeeProject" local-service="true" remote-service="true">
		<column name="employeeProjectId" type="long" primary="true"/>
		<column name="employeeId" type="long"/>
		<column name="projectId" type="long"/>
		<column name="allocatedHours" type="int"/>

		<!-- Campos de auditoria e escopo -->
		<column name="groupId" type="long"/>
		<column name="companyId" type="long"/>
	</entity>

	<!-- Exceptions -->
	<exceptions>
		<exception>InvalidEmail</exception>
		<exception>DepartmentInactive</exception>
		<exception>EmployeeNotFound</exception>
	</exceptions>
</service-builder>